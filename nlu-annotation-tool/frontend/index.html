<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>NLU Annotation Tool - Futuristic Interface</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="futuristic-theme.css" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <script>
      // Default landing: redirect to landing.html unless caller explicitly requests the annotation page
      // Caller can append ?skip_landing=1 to load the annotation page directly (used after workspace select).
      try {
        if (!location.search.includes('skip_landing=1')) {
          location.replace('landing.html');
        }
      } catch (e) {
        // ignore
      }
    </script>
    <main class="container">
      <h1>NLU Annotation Tool</h1>

      <section class="panel">
        <label>Text to annotate</label>
        <textarea id="text-input" rows="4" placeholder="Enter text to annotate"></textarea>

        <div class="row">
          <div class="col">
            <label>Intent</label>
            <input id="intent-input" type="text" placeholder="intent_name" />
          </div>
          <div class="col">
            <label>Entity start</label>
            <input id="ent-start" type="number" min="0" />
          </div>
          <div class="col">
            <label>Entity end</label>
            <input id="ent-end" type="number" min="0" />
          </div>
          <div class="col">
            <label>Entity label</label>
            <input id="ent-label" type="text" placeholder="PERSON" />
          </div>
        </div>

        <div class="row buttons">
          <button id="add-entity">Add Entity</button>
          <button id="save-annotation">Save Annotation</button>
          <button id="train-spacy">Train spaCy</button>
          <button id="train-rasa">Train Rasa (placeholder)</button>
          <button id="fetch-models">Fetch Models</button>
          <button id="go-to-active-learning">Go to Active Learning</button>
          <button id="go-to-admin-dashboard">Admin Dashboard</button>
          <button id="go-to-deployment">Deployment</button>
        </div>

        <label>Entities</label>
        <pre id="entities-list" class="json"></pre>
        <label>Saved Annotations (preview)</label>
        <pre id="annotations-preview" class="json"></pre>
      </section>

      <section class="panel">
        <h2>Tokenize</h2>
        <input id="tokenize-text" type="text" placeholder="Text to tokenize" />
        <button id="do-tokenize">Tokenize</button>
        <pre id="tokenize-result" class="json"></pre>
      </section>

      <section class="panel">
        <h2>Model Metadata</h2>
        <pre id="models-meta" class="json"></pre>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
